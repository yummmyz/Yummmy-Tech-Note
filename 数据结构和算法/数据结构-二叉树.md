# 数据结构-二叉树

### 二叉树

- 叶子结点：没有子节点（度为0）的节点
- 一些规律

n0：度为0的结点数，n1:度为1的结点 n2：度为2的结点数。 N是总结点树

在二叉树中：

n0=n2+1；

N=n0+n1+n2

### 完全二叉树

若设二叉树的高度为h，除第 h 层外，其它各层 (1～h-1) 的结点数都达到最大个数，第h层有叶子结点，并且叶子结点都是从左到右依次排布，这就是完全二叉树。 特性：完全二叉树中任何一层最左的节点编号n,则其左子树为2n,右子树为2n+1，利用这种特性，可以用数组作为二叉树的物理结构

### 满二叉树

除了叶结点外每一个结点都有左右子叶且叶子结点都处在最底层的二叉树。 特点：满二叉树有2^k-1个节点（k为高度）

### 平衡二叉树

平衡二叉树，又称AVL树，是一种特殊的搜索二叉树。它是一棵空树或它的左右两个子树的高度差的绝对值不超过1，并且左右两个子树都是一棵平衡二叉树

- 插入、查找的时间复杂度都是 O(logn)

#### 平衡二叉树的调整步骤：

1. 找出平衡因子=2的结点
2. 找插入新结点后失去平衡的最小子树（满足条件：距离插入结点最近的树；以平衡因子=2的结点作为根结点；子树的结点不超过3个，如果超过，则从根节点算起，取前3个结点）
3. 平衡调整

#### 平衡调整的步骤：

四种情况：

LL型->R(顺时针旋转)

RR型->L(逆时针旋转)

LR型->先转成LL型->R(顺时针旋转)

RL型->先转成RR型->L(逆时针旋转)

参考视频：https://www.bilibili.com/video/BV1xE411h7dd

### 搜索二叉树（二分搜索树、二叉查找树）

每个结点的键值大于左孩子，小于右孩子。以左右孩子为根的子树仍为二分搜索树（天然包括递归结构）

### 二叉树的前序，中序，后序，层序遍历

![示例图片](https://raw.githubusercontent.com/yummmyz/Yummmy-Tech-Note/main/images/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%91-%E9%85%8D%E5%9B%BE1.png)

- 前序遍历：先遍历根结点，然后遍历左子树，最后遍历右子树。

  结果为:4 2 1 3 6 5 7 8 10

- 中序遍历:先遍历左子树，然后遍历根结点，最后遍历右子树。

  结果为：1 2 3 4 5 6 7 8 10

- 后序遍历:先遍历左子树，然后遍历右子树，最后遍历根节点。

  结果为：1 3 2 5 10 8 7 6 4

- 层序遍历：逐层遍历。

  结果为：4 2 6 1 3 5 7 8 10

### 堆

堆是一棵完全二叉树，分为大根堆（父结点值>子节点值）和小根堆（父结点值<子节点值）

- 堆的插入和删除操作，运行时间为 O(logn)，n 为树上结点的个数

------

### 优先队列

#### 特点

能保证每次取出的元素都是队列中优先级别最高的。优先级别可以是自定义的，例如，数据的数值越大，优先级越高；或者数据的数值越小，优先级越高。优先级别甚至可以通过各种复杂的计算得到。

#### 应用场景

从一堆杂乱无章的数据当中按照一定的顺序（或者优先级）逐步地筛选出部分乃至全部的数据。

举例：任意一个数组，找出前 k 大的数。

#### 实现

优先队列的本质是一个二叉堆结构。堆在英文里叫 Binary Heap，它是利用一个数组结构来实现的完全二叉树。换句话说，优先队列的本质是一个数组，数组里的每个元素既有可能是其他元素的父节点，也有可能是其他元素的子节点，而且，每个父节点只能有两个子节点，很像一棵二叉树的结构。

牢记下面优先队列有三个重要的性质。

1. 数组里的第一个元素 array[0] 拥有最高的优先级别。
2. 给定一个下标 i，那么对于元素 array[i] 而言：
   1. 它的父节点所对应的元素下标是 (i-1)/2
   2. 它的左孩子所对应的元素下标是 2*i + 1
   3. 它的右孩子所对应的元素下标是 2*i + 2
   4.  数组里每个元素的优先级别都要高于它两个孩子的优先级别